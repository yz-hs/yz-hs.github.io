<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name="msvalidate.01" content="A7B4DB5A7BF5E5C6E52E34BB024D6319"><meta name="description" content="本站为 Yurchiu 用来记录 OI、笔记、感想的 Blog，欢迎来到本博客！希望我们能相互交流，共同进步～"><meta http-equiv="content-language" content="zh-cn"><title>树链剖分 | Yurchiu's Blog</title><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.pjax/2.0.1/jquery.pjax.min.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.4.17/sweetalert2.all.min.js"></script><script src="https://cdn.staticfile.org/sketch.js/1.0/sketch.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/js/chaffle.js"></script><script src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/js/main.js"></script><script src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/js/search.js"></script><script src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/js/initial.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.6/katex.min.css"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/vs2015.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/css/style.css"><link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Yurchiu's Blog" type="application/atom+xml"></head><body style="background-image:url(https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/img/new-bgp.png)"><div id="YurLoading" class="YurLoading"><div class="inner"><div class="line-wrap"><div class="line"></div></div><div class="line-wrap"><div class="line"></div></div><div class="line-wrap"><div class="line"></div></div><div class="line-wrap"><div class="line"></div></div><div class="line-wrap"><div class="line"></div></div></div></div><div class="topbar"><a onclick="topbarToggle()" class="topbar-menu" style="cursor:pointer"><i class="fa fa-bars"></i> </a><a href="/" class="topbar-title"><i class="fa fa-home"></i> Yurchiu's Blog </a><a target="_blank" rel="noopener" href="https://github.com/yz-hs" class="topbar-title"><i class="fa fa-github"></i></a></div><div id="article-container"><div class="sidebar"><div class="avatar-container"><img src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/img/new-avatar.jpg" class="avatar revolve"></div><div class="sidebar-author">Yurchiu<br><span class="mini-text">An AFO whker.</span></div><div class="sidebar-list-container"><div style="height:10px"></div><a class="list-group-item" href="/"><div><i class="fa fa-home fa-fw"></i>&nbsp; 首页</div><div class="badge"></div></a><a class="list-group-item" href="/archives/"><div><i class="fa fa-tasks fa-fw"></i>&nbsp; 归档</div><div class="badge">158</div></a><a class="list-group-item" href="/tags/"><div><i class="fa fa-tags fa-fw"></i>&nbsp; 标签</div><div class="badge">81</div></a><a class="list-group-item" href="/categories/"><div><i class="fa fa-th-large fa-fw"></i>&nbsp; 分类</div><div class="badge">24</div></a><a class="list-group-item" href="/somepage/mood/"><div><i class="fa fa-photo fa-fw"></i>&nbsp; 说说</div><div class="badge"></div></a><a class="list-group-item" href="/somepage/about/"><div><i class="fa fa-user-o fa-fw"></i>&nbsp; 关于</div><div class="badge"></div></a><a class="list-group-item" href="/somepage/chat/"><div><i class="fa fa-commenting-o fa-fw"></i>&nbsp; 留言</div><div class="badge"></div></a><a class="list-group-item" href="/somepage/link/"><div><i class="fa fa-link fa-fw"></i>&nbsp; 链接</div><div class="badge"></div></a><a class="list-group-item" href="/somepage/settings/"><div><i class="fa fa-cog fa-fw"></i>&nbsp; 设置</div><div class="badge"></div></a><div style="height:200px"></div></div><div class="sidebar-footer"><div class="item" id="back2Top" data-bs-toggle="tooltip" title="顶部"><i class="fa fa-arrow-circle-up"></i></div><div class="item" id="back2Down" data-bs-toggle="tooltip" title="底部"><i class="fa fa-arrow-circle-down"></i></div><div class="item" data-bs-toggle="tooltip" title="RSS"><a href="/atom.xml"><i class="fa fa-feed"></i></a></div><div class="item" data-bs-toggle="tooltip" title="搜索"><a href="/somepage/search/"><i class="fa fa-search"></i></a></div></div></div><div class="article"><div class="vertical fake-sidebar"></div><div class="vertical post"><div class="header"><h1 class="title">树链剖分</h1><div class="meta"><span><i class="fa fa-user-o"></i> Yurchiu </span><span><i class="fa fa-clock-o"></i> 2021-07-30, 21:53:01</span> <span><i class="fa fa-font"></i> 1k</span> <span class="hideBars" onclick="hideBars()"><i class="fa fa-eye-slash"></i> 隐藏左右两栏 </span><span class="showBars" onclick="showBars()"><i class="fa fa-eye"></i> 展示左右两栏</span></div></div><div class="breadcrumb"><div class="url"><a href="/"><i class="fa fa-home"></i> 首页</a> / 树链剖分</div><div class="share">分享到 <a target="_blank" rel="noopener" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://yz-hs.github.io/fc571536ccbb/&title=树链剖分&site=https://yz-hs.github.io"><i class="fa fa-qq"></i></a></div></div><div class="post-text"><p>由于并不想造轮子，这里放上一位大佬的博客：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/chinhhh/p/7965433.html">link</a>。这里只放我写的模板：</p><p>如果要处理边权，经典做法是将边权下放给所连两个点中深度更深的点。还有一种是在两点间塞入一个点，这个点称为”边点“，其点权代替边权。</p><span id="more"></span><pre class="highlight"><code class="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-keyword">namespace</span> _yz
&#123;
	<span class="hljs-keyword">typedef</span> <span class="hljs-type">long</span> <span class="hljs-type">long</span> ll;
	<span class="hljs-type">const</span> ll N=<span class="hljs-number">100000</span>+<span class="hljs-number">10</span>,inf=<span class="hljs-number">214748364799999999</span>;
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> lson (root*2)</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> rson ((root*2)+1)</span>
	<span class="hljs-meta">#<span class="hljs-keyword">define</span> mid ((l+r)/2)</span>
	ll n,m,Root,mod,a[N];
	<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Seg_tree</span>
	&#123;
		<span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span>&#123;ll data,tag;&#125;t[N*<span class="hljs-number">4</span>];
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(ll root)</span>
		</span>&#123;
			t[root].data=t[lson].data+t[rson].data%mod;
			<span class="hljs-keyword">return</span>;
		&#125;
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(ll root,ll l,ll r)</span>
		</span>&#123;
			ll tag=t[root].tag%mod;
			t[lson].data=(t[lson].data+(mid-l+<span class="hljs-number">1</span>)*tag%mod)%mod;
			t[rson].data=(t[rson].data+(r-mid)*tag%mod)%mod;
			t[lson].tag=(t[lson].tag+tag)%mod;
			t[rson].tag=(t[rson].tag+tag)%mod;
			t[root].tag=<span class="hljs-number">0</span>;
		&#125;
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">build</span><span class="hljs-params">(ll root,ll l,ll r,ll d[])</span>
		</span>&#123;
			<span class="hljs-keyword">if</span>(l==r)&#123;t[root].data=d[l]%mod;<span class="hljs-keyword">return</span>;&#125;
			<span class="hljs-built_in">build</span>(lson,l,mid,d);
			<span class="hljs-built_in">build</span>(rson,mid+<span class="hljs-number">1</span>,r,d);
			<span class="hljs-built_in">pushup</span>(root);
		&#125;
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">(ll root,ll l,ll r,ll x,ll y,ll data)</span>
		</span>&#123;
			<span class="hljs-keyword">if</span>(x&lt;=l&amp;&amp;r&lt;=y)
			&#123;
				t[root].data+=(r-l+<span class="hljs-number">1</span>)*data;
				t[root].data%=mod;
				t[root].tag+=data;
				t[root].tag%=mod;
				<span class="hljs-keyword">return</span>;
			&#125;
			<span class="hljs-built_in">pushdown</span>(root,l,r);
			<span class="hljs-keyword">if</span>(x&lt;=mid) <span class="hljs-built_in">update</span>(lson,l,mid,x,y,data);
			<span class="hljs-keyword">if</span>(y&gt;=mid+<span class="hljs-number">1</span>) <span class="hljs-built_in">update</span>(rson,mid+<span class="hljs-number">1</span>,r,x,y,data);
			<span class="hljs-built_in">pushup</span>(root);
			<span class="hljs-keyword">return</span>;
		&#125;
		<span class="hljs-function">ll <span class="hljs-title">query</span><span class="hljs-params">(ll root,ll l,ll r,ll x,ll y)</span>
		</span>&#123;
			ll ret=<span class="hljs-number">0</span>;
			<span class="hljs-keyword">if</span>(x&lt;=l&amp;&amp;r&lt;=y) <span class="hljs-keyword">return</span> t[root].data%mod;
			<span class="hljs-built_in">pushdown</span>(root,l,r);
			<span class="hljs-keyword">if</span>(x&lt;=mid) ret+=<span class="hljs-built_in">query</span>(lson,l,mid,x,y);
			<span class="hljs-keyword">if</span>(y&gt;=mid+<span class="hljs-number">1</span>) ret+=<span class="hljs-built_in">query</span>(rson,mid+<span class="hljs-number">1</span>,r,x,y);
			<span class="hljs-keyword">return</span> ret%mod;
		&#125;
	&#125;SGT;
	<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Graph</span>
	&#123;
		<span class="hljs-keyword">struct</span> <span class="hljs-title class_">edge</span>&#123;ll nxt,to;&#125;e[N*<span class="hljs-number">2</span>];
		ll cnt,head[N];
		<span class="hljs-built_in">Graph</span>()&#123;<span class="hljs-built_in">memset</span>(head,<span class="hljs-number">0</span>,<span class="hljs-built_in">sizeof</span>(head));cnt=<span class="hljs-number">0</span>;&#125;
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">add</span><span class="hljs-params">(ll a,ll b)</span>
		</span>&#123;
			e[++cnt]=(edge)&#123;head[a],b&#125;;
			head[a]=cnt;
		&#125;
	&#125;tmp;
	<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Tree</span>
	&#123;
		ll dad[N],dth[N],size[N],son[N];
		ll num[N],data[N],top[N],cnt;
		<span class="hljs-comment">//父节点，深度，子树大小，重儿子。</span>
		<span class="hljs-comment">//新编号，权值，链的顶端，编号分配 data。</span>
		<span class="hljs-built_in">Tree</span>()&#123;cnt=<span class="hljs-number">0</span>;&#125; 
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(ll root,ll par,ll depth)</span>
		</span>&#123;
			dth[root]=depth;
			dad[root]=par;
			size[root]=<span class="hljs-number">1</span>;
			ll sval=<span class="hljs-number">-1</span>;
			<span class="hljs-keyword">for</span>(ll i=tmp.head[root];i;i=tmp.e[i].nxt)
			&#123;
				ll to=tmp.e[i].to;
				<span class="hljs-keyword">if</span>(to==par) <span class="hljs-keyword">continue</span>;
				<span class="hljs-built_in">dfs1</span>(to,root,depth+<span class="hljs-number">1</span>);
				size[root]+=size[to];
				<span class="hljs-keyword">if</span>(sval&lt;size[to])
				&#123;
					sval=size[to];
					son[root]=to;
				&#125;
			&#125;
		&#125;
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(ll root,ll topn,ll val[])</span>
		</span>&#123;
			num[root]=++cnt;
			data[cnt]=val[root]%mod;
			top[root]=topn;
			<span class="hljs-keyword">if</span>(!son[root]) <span class="hljs-keyword">return</span>;
			<span class="hljs-built_in">dfs2</span>(son[root],topn,val);
			<span class="hljs-keyword">for</span>(ll i=tmp.head[root];i;i=tmp.e[i].nxt)
			&#123;
				ll to=tmp.e[i].to;
				<span class="hljs-keyword">if</span>(to==dad[root]||to==son[root]) <span class="hljs-keyword">continue</span>;
				<span class="hljs-built_in">dfs2</span>(to,to,val);
			&#125;
		&#125;
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(ll val[])</span>
		</span>&#123;
			<span class="hljs-built_in">dfs1</span>(Root,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);
			<span class="hljs-built_in">dfs2</span>(Root,Root,val);
			SGT.<span class="hljs-built_in">build</span>(num[Root],<span class="hljs-number">1</span>,n,data);
		&#125;
		<span class="hljs-function">ll <span class="hljs-title">quyRange</span><span class="hljs-params">(ll x,ll y)</span>
		</span>&#123;
			ll ans=<span class="hljs-number">0</span>;
			<span class="hljs-keyword">while</span>(top[x]!=top[y])
			&#123;
				<span class="hljs-keyword">if</span>(dth[top[x]]&lt;dth[top[y]]) <span class="hljs-built_in">swap</span>(x,y);
				ans=(ans+SGT.<span class="hljs-built_in">query</span>(num[Root],<span class="hljs-number">1</span>,n,num[top[x]],num[x]))%mod;
				x=dad[top[x]];
			&#125;
			<span class="hljs-keyword">if</span>(dth[x]&gt;dth[y]) <span class="hljs-built_in">swap</span>(x,y);
			ans=(ans+SGT.<span class="hljs-built_in">query</span>(num[Root],<span class="hljs-number">1</span>,n,num[x],num[y]))%mod;
			<span class="hljs-keyword">return</span> ans;
		&#125;
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">updRange</span><span class="hljs-params">(ll x,ll y,ll val)</span>
		</span>&#123;
			val%=mod; 
			<span class="hljs-keyword">while</span>(top[x]!=top[y])
			&#123;
				<span class="hljs-keyword">if</span>(dth[top[x]]&lt;dth[top[y]]) <span class="hljs-built_in">swap</span>(x,y);
				SGT.<span class="hljs-built_in">update</span>(num[Root],<span class="hljs-number">1</span>,n,num[top[x]],num[x],val);
				x=dad[top[x]];
			&#125;
			<span class="hljs-keyword">if</span>(dth[x]&gt;dth[y]) <span class="hljs-built_in">swap</span>(x,y);
			SGT.<span class="hljs-built_in">update</span>(num[Root],<span class="hljs-number">1</span>,n,num[x],num[y],val);
		&#125;
		<span class="hljs-function">ll <span class="hljs-title">quyTree</span><span class="hljs-params">(ll x)</span></span>&#123;<span class="hljs-keyword">return</span> SGT.<span class="hljs-built_in">query</span>(num[Root],<span class="hljs-number">1</span>,n,num[x],num[x]+size[x]<span class="hljs-number">-1</span>)%mod;&#125;
		<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">updTree</span><span class="hljs-params">(ll x,ll val)</span></span>&#123;SGT.<span class="hljs-built_in">update</span>(num[Root],<span class="hljs-number">1</span>,n,num[x],num[x]+size[x]<span class="hljs-number">-1</span>,val);&#125;
	&#125;tree;
	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
	</span>&#123;
		ll x,y,opt,val;
		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld%lld%lld%lld&quot;</span>,&amp;n,&amp;m,&amp;Root,&amp;mod);
		<span class="hljs-keyword">for</span>(ll i=<span class="hljs-number">1</span>;i&lt;=n;i++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>,a+i);
		<span class="hljs-keyword">for</span>(ll i=<span class="hljs-number">1</span>;i&lt;=n<span class="hljs-number">-1</span>;i++)
		&#123;
			<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld%lld&quot;</span>,&amp;x,&amp;y);
			tmp.<span class="hljs-built_in">add</span>(x,y);
			tmp.<span class="hljs-built_in">add</span>(y,x);
		&#125;
		tree.<span class="hljs-built_in">init</span>(a);
		<span class="hljs-keyword">for</span>(ll i=<span class="hljs-number">1</span>;i&lt;=m;i++)
		&#123;
			<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>,&amp;opt);
			<span class="hljs-keyword">if</span>(opt==<span class="hljs-number">1</span>)
			&#123;
				<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld%lld%lld&quot;</span>,&amp;x,&amp;y,&amp;val);
				tree.<span class="hljs-built_in">updRange</span>(x,y,val);
			&#125;
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(opt==<span class="hljs-number">2</span>)
			&#123;
				<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld%lld&quot;</span>,&amp;x,&amp;y);
				<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>,tree.<span class="hljs-built_in">quyRange</span>(x,y)%mod);
			&#125;
			<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(opt==<span class="hljs-number">3</span>)
			&#123;
				<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld%lld&quot;</span>,&amp;x,&amp;val);
				tree.<span class="hljs-built_in">updTree</span>(x,val);
			&#125;
			<span class="hljs-keyword">else</span>
			&#123;
				<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>,&amp;x);
				<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>,tree.<span class="hljs-built_in">quyTree</span>(x)%mod);
			&#125;
		&#125;
		<span class="hljs-keyword">return</span>;
	&#125;	
&#125;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>&#123;
	_yz::<span class="hljs-built_in">main</span>();
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
</code></pre><p>例题：</p><ul><li>P3178 [HAOI2015]树上操作</li><li>P1505 [国家集训队]旅游</li><li>P4315 月下“毛景树”</li></ul><br><hr><br><blockquote><br>本文作者：Yurchiu<br><br>本文链接：https://yz-hs.github.io/fc571536ccbb/<br><br>版权声明：本博客中所有原创文章除特别声明外，均允许规范转载，转载请注明出处。所有非原创文章，按照原作者要求转载。<br><br></blockquote><br><div class="end-post-meta"><span><a href="/tags/OI"><i class="fa fa-tag"></i> OI</a></span> <span><a href="/tags/树"><i class="fa fa-tag"></i> 树</a></span> <span><a href="/tags/树链剖分"><i class="fa fa-tag"></i> 树链剖分</a></span></div><div class="end-post-meta"><span><i class="fa fa-refresh"></i> 最后更新：2021-08-09, 22:16:30</span></div></div><div class="prevnext"><a class="prev" href="/756e5a240d96/">上一页</a> <a class="next" href="/1a06ceae98f4/">下一页</a></div><div class="comments"><div class="giscus"></div><script>function my_giscus_load(){var t=document.createElement("script");t.setAttribute("src","https://giscus.app/client.js"),t.setAttribute("data-repo","yz-hs/no-star"),t.setAttribute("data-repo-id","R_kgDOKHnuhg"),t.setAttribute("data-category","General"),t.setAttribute("data-category-id","DIC_kwDOKHnuhs4CYog9"),t.setAttribute("data-mapping","pathname"),t.setAttribute("data-strict","0"),t.setAttribute("data-reactions-enabled","1"),t.setAttribute("data-emit-metadata","0"),t.setAttribute("data-input-position","top"),t.setAttribute("data-theme","light"),4==readData("color")&&t.setAttribute("data-theme","dark"),t.setAttribute("data-lang","zh-CN"),t.setAttribute("data-loading","lazy"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("async","true"),document.head.appendChild(t)}my_giscus_load()</script></div><div class="avatar-container" style="padding:50px"><img src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/img/new-avatar.jpg" class="avatar revolve" style="height:12%;width:12%"><div style="text-align:center;margin-top:3%">By Yurchiu.</div></div></div><div class="vertical toolbar"><div class="tab-page"><div class="tabTitle tb-tabTitle"><ul><li class="current"><i class="fa fa-random"></i></li><li><i class="fa fa-refresh"></i></li><li><i class="fa fa-circle-o-notch"></i></li></ul></div><div class="tabContent tb-tabContent"><div><div class="title">随机文章<span class="sidetitle">回味旧文</span></div><div class="item no-lrpadding"><a class="post-link" href="/d24d99489782/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">2020 新年贺词</div></div></a><a class="post-link" href="/3513c6ef3e31/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">2021，初中毕业</div></div></a><a class="post-link" href="/3f5d366e12dd/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">一个 4 人囚徒困境的必胜策略</div></div></a><a class="post-link" href="/501647d25831/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">AFO 有感</div></div></a><a class="post-link" href="/ed885af1fef5/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">ASCII 艺术</div></div></a><a class="post-link" href="/2ab979d324b5/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">BSGS 与 exBSGS</div></div></a><a class="post-link" href="/1ed002c31ce3/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">CSP-J1 游记</div></div></a></div></div><div class="hide"><div class="title">最近更新<span class="sidetitle">旧文更新</span></div><div class="item no-lrpadding"><a class="post-link" href="/1f53cba6a83c/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">《幽默报 10》</div></div></a><a class="post-link" href="/39e4c172e542/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">Cutie 使用文档</div></div></a><a class="post-link" href="/32cc033936e2/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">[Theme] Readme</div></div></a><a class="post-link" href="/d3dec5d93e6e/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">欢迎</div></div></a><a class="post-link" href="/5f04cc136ab4/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">《幽默报 6》</div></div></a><a class="post-link" href="/7a042de58116/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">《幽默报 2》</div></div></a><a class="post-link" href="/177a0b676a5c/"><div class="title_fa"><i class="fa fa-file-text-o fa-border" style="height:30px;border:none"></i><div class="title">《幽默报 3》</div></div></a></div></div><div class="hide"><div class="title">其他物件<a data-bs-toggle="tooltip" href="javascript: document.body.contentEditable='true';
    document.designMode='on';void(0);" title="彩蛋：点击我，可以编辑本页面！" target="_self" class="sidetitle">杂物收纳</a></div><div style="height:10px"></div><div class="item"><tag style="display:inline-block">Hitokoto</tag><br><br><div id="hitokoto">Yurchiu 说，除了她以外的人都很强！嘤嘤嘤~~</div><script>fetch("https://v1.hitokoto.cn").then(function(t){return t.json()}).then(function(t){$("#hitokoto").html(t.hitokoto+"<br><br><div style='text-align: right;'>——"+t.from+"</div>")}).catch(function(t){console.error(t)})</script></div><div class="item"><div id="timeprogress"></div><script>var myDate=new Date,hours=myDate.getHours(),minutes=myDate.getMinutes(),pro=(minutes=60*hours+minutes)/14.4,innerhtml="        <div class='progress' style='height: 20px'>          <div data-bs-toggle='tooltip'               class='progress-bar'               title='时间已过去了 "+pro.toFixed(2)+"%'               style='width: "+pro+"%;               background: #4caf50; color: #fff;'>"+pro.toFixed(0)+"%          </div>        </div>";document.getElementById("timeprogress").innerHTML=innerhtml</script></div></div></div></div><div class="item"><div class="title">博客信息</div><div class="list-group"><div class="list-group-item"><div><i class="fa fa-file-text-o fa-fw"></i> 文章数目</div><div class="badge">158</div></div><div class="list-group-item"><div><i class="fa fa-refresh fa-fw"></i> 最近更新</div><div class="badge">08-09</div></div><div class="list-group-item"><div><i class="fa fa-font fa-fw"></i> 本站字数</div><div class="badge">345.4k</div></div></div></div><div class="item"><div class="title">标签云</div><div class="toolbar-tag-cloud"><a href="/tags/Cutie/" style="font-size:14px;color:#fff">Cutie</a> <a href="/tags/Hexo/" style="font-size:14px;color:#fff">Hexo</a> <a href="/tags/Idea/" style="font-size:14px;color:#fff">Idea</a> <a href="/tags/LCA/" style="font-size:14px;color:#fff">LCA</a> <a href="/tags/Memories/" style="font-size:14px;color:#fff">Memories</a> <a href="/tags/OI/" style="font-size:14px;color:#fff">OI</a> <a href="/tags/Root/" style="font-size:14px;color:#fff">Root</a> <a href="/tags/ST-%E8%A1%A8/" style="font-size:14px;color:#fff">ST 表</a> <a href="/tags/Shortcut/" style="font-size:14px;color:#fff">Shortcut</a> <a href="/tags/Trie-%E6%A0%91/" style="font-size:14px;color:#fff">Trie 树</a> <a href="/tags/Vim/" style="font-size:14px;color:#fff">Vim</a> <a href="/tags/%E4%B8%80%E4%BA%9B/" style="font-size:14px;color:#fff">一些</a> <a href="/tags/%E4%B8%BB%E5%B8%AD%E6%A0%91/" style="font-size:14px;color:#fff">主席树</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size:14px;color:#fff">二分</a> <a href="/tags/%E4%BA%8C%E5%88%86%E7%AD%94%E6%A1%88/" style="font-size:14px;color:#fff">二分答案</a> <a href="/tags/%E4%BA%A4%E4%BA%92%E9%A2%98/" style="font-size:14px;color:#fff">交互题</a> <a href="/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/" style="font-size:14px;color:#fff">位运算</a> <a href="/tags/%E5%80%8D%E5%A2%9E/" style="font-size:14px;color:#fff">倍增</a> <a href="/tags/%E5%85%B6%E4%BB%96/" style="font-size:14px;color:#fff">其他</a> <a href="/tags/%E5%88%86%E5%B1%82%E5%9B%BE/" style="font-size:14px;color:#fff">分层图</a> <a href="/tags/%E5%88%86%E6%B2%BB/" style="font-size:14px;color:#fff">分治</a> <a href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size:14px;color:#fff">前缀和</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size:14px;color:#fff">加密</a> <a href="/tags/%E5%8A%A8%E6%80%81%E5%BC%80%E7%82%B9%E7%BA%BF%E6%AE%B5%E6%A0%91/" style="font-size:14px;color:#fff">动态开点线段树</a> <a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" style="font-size:14px;color:#fff">动态规划</a> <a href="/tags/%E5%8C%BA%E9%97%B4-DP/" style="font-size:14px;color:#fff">区间 DP</a> <a href="/tags/%E5%8D%95%E8%B0%83%E6%A0%88/" style="font-size:14px;color:#fff">单调栈</a> <a href="/tags/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97/" style="font-size:14px;color:#fff">单调队列</a> <a href="/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" style="font-size:14px;color:#fff">博弈论</a> <a href="/tags/%E5%90%8C%E4%BD%99/" style="font-size:14px;color:#fff">同余</a> <a href="/tags/%E5%93%88%E5%B8%8C/" style="font-size:14px;color:#fff">哈希</a> <a href="/tags/%E5%94%AF%E4%B8%80%E5%88%86%E8%A7%A3/" style="font-size:14px;color:#fff">唯一分解</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size:14px;color:#fff">图论</a> <a href="/tags/%E5%A0%86/" style="font-size:14px;color:#fff">堆</a> <a href="/tags/%E5%A5%87%E5%81%B6%E6%9C%80%E7%9F%AD%E8%B7%AF/" style="font-size:14px;color:#fff">奇偶最短路</a> <a href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" style="font-size:14px;color:#fff">字符串</a> <a href="/tags/%E5%AE%B9%E6%96%A5/" style="font-size:14px;color:#fff">容斥</a> <a href="/tags/%E5%AF%B9%E9%A1%B6%E5%A0%86/" style="font-size:14px;color:#fff">对顶堆</a> <a href="/tags/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/" style="font-size:14px;color:#fff">差分约束</a> <a href="/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/" style="font-size:14px;color:#fff">平衡树</a> <a href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/" style="font-size:14px;color:#fff">并查集</a> <a href="/tags/%E5%BC%BA%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F/" style="font-size:14px;color:#fff">强连通分量</a> <a href="/tags/%E6%89%93%E8%A1%A8/" style="font-size:14px;color:#fff">打表</a> <a href="/tags/%E6%89%AB%E6%8F%8F%E7%BA%BF/" style="font-size:14px;color:#fff">扫描线</a> <a href="/tags/%E6%8A%80%E6%9C%AF/" style="font-size:14px;color:#fff">技术</a> <a href="/tags/%E6%8E%92%E5%88%97%E7%BB%84%E5%90%88/" style="font-size:14px;color:#fff">排列组合</a> <a href="/tags/%E6%8E%92%E5%BA%8F/" style="font-size:14px;color:#fff">排序</a> <a href="/tags/%E6%8E%A8%E7%BB%93%E8%AE%BA/" style="font-size:14px;color:#fff">推结论</a> <a href="/tags/%E6%8F%92%E5%80%BC-DP/" style="font-size:14px;color:#fff">插值 DP</a> <a href="/tags/%E6%95%B0%E4%BD%8D-DP/" style="font-size:14px;color:#fff">数位 DP</a> <a href="/tags/%E6%95%B0%E5%AD%A6/" style="font-size:14px;color:#fff">数学</a> <a href="/tags/%E6%95%B0%E5%AD%A6%E6%9C%9F%E6%9C%9B/" style="font-size:14px;color:#fff">数学期望</a> <a href="/tags/%E6%95%B0%E8%AE%BA/" style="font-size:14px;color:#fff">数论</a> <a href="/tags/%E6%9A%B4%E6%90%9C/" style="font-size:14px;color:#fff">暴搜</a> <a href="/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" style="font-size:14px;color:#fff">最小生成树</a> <a href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/" style="font-size:14px;color:#fff">最短路</a> <a href="/tags/%E6%A0%91/" style="font-size:14px;color:#fff">树</a> <a href="/tags/%E6%A0%91%E5%BD%A2-DP/" style="font-size:14px;color:#fff">树形 DP</a> <a href="/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/" style="font-size:14px;color:#fff">树状数组</a> <a href="/tags/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/" style="font-size:14px;color:#fff">树链剖分</a> <a href="/tags/%E6%A8%A1%E6%8B%9F/" style="font-size:14px;color:#fff">模拟</a> <a href="/tags/%E6%AF%92%E7%98%A4%E9%A2%98/" style="font-size:14px;color:#fff">毒瘤题</a> <a href="/tags/%E6%B0%B4/" style="font-size:14px;color:#fff">水</a> <a href="/tags/%E6%B4%9B%E8%B0%B7/" style="font-size:14px;color:#fff">洛谷</a> <a href="/tags/%E7%8A%B6%E5%8E%8B-DP/" style="font-size:14px;color:#fff">状压 DP</a> <a href="/tags/%E7%9F%A9%E9%98%B5/" style="font-size:14px;color:#fff">矩阵</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E5%8C%96/" style="font-size:14px;color:#fff">离散化</a> <a href="/tags/%E7%A6%BB%E7%BA%BF%E7%AE%97%E6%B3%95/" style="font-size:14px;color:#fff">离线算法</a> <a href="/tags/%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0/" style="font-size:14px;color:#fff">线性代数</a> <a href="/tags/%E7%BA%BF%E6%80%A7%E7%AD%9B/" style="font-size:14px;color:#fff">线性筛</a> <a href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/" style="font-size:14px;color:#fff">线段树</a> <a href="/tags/%E8%83%8C%E5%8C%85/" style="font-size:14px;color:#fff">背包</a> <a href="/tags/%E8%A7%A3%E6%9E%90%E5%87%A0%E4%BD%95/" style="font-size:14px;color:#fff">解析几何</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/" style="font-size:14px;color:#fff">计算几何</a> <a href="/tags/%E8%B4%AA%E5%BF%83/" style="font-size:14px;color:#fff">贪心</a> <a href="/tags/%E8%BD%AC%E8%BD%BD/" style="font-size:14px;color:#fff">转载</a> <a href="/tags/%E9%80%86%E5%BA%8F%E5%AF%B9/" style="font-size:14px;color:#fff">逆序对</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size:14px;color:#fff">递归</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size:14px;color:#fff">链表</a> <a href="/tags/%E9%98%9F%E5%88%97/" style="font-size:14px;color:#fff">队列</a> <a href="/tags/%E9%AB%98%E7%B2%BE%E5%BA%A6/" style="font-size:14px;color:#fff">高精度</a></div></div><script>$(function(){var i=$(".tb-tabTitle>ul>li"),n=$(".tb-tabContent>div");i.click(function(){var t=$(this);setTimeout(function(){t.addClass("current").siblings().removeClass("current");var i=t.index();n.eq(i).show().siblings().hide()})})})</script></div></div><div class="footer"><p class="text-left">©2019-2023 <a target="_blank" rel="noopener" href="https://github.com/yz-hs">Yurchiu</a>. All rights reserved.</p><p class="text-right">Theme <a target="_blank" rel="noopener" href="https://github.com/yz-hs/cutie">Cutie</a>, by Yurchiu.</p></div><div class="natsuki-container" style="width:120px" data-bs-toggle="tooltip" title="Don't touch me! qwq"><img id="natsuki2" width="100%" height="100%" src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/img/natsuki2.png"> <img id="natsuki1" width="100%" height="100%" src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/img/natsuki1.png"></div><script type="text/javascript">$("#natsuki1").click(function(){$("#natsuki1").hide(),$("#natsuki2").show(),$("#natsuki2").css("animation","natsuki 0.55s cubic-bezier(0, 0, 0, 1)")}),$("#natsuki2").each(function(){$(this)[0].addEventListener("animationend",function(){$("#natsuki2").hide(),$("#natsuki1").show(),$(this).css("animation","")})})</script><script>readData("special")||$("html").addClass("none")</script><script>readData("color")||$("html").addClass("color-white"),4==readData("color")&&($("body").css("opacity","0.85"),$("body").css("background-image","url(https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/img/night-bgp.jpg)")),$("img").attr("onerror","this.src='https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/img/error.jpg';this.onerror=null"),initial()</script></div><meting-js class="meting-js appear" fixed="ture" server="netease" type="playlist" id="8524070964"></meting-js><script>consolePrint(),HideIt()</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/custom/custom.css"><script src="https://cdn.jsdelivr.net/gh/yz-hs/yz-hs.github.io/custom/custom.js"></script></body></html>